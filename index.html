<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PDF-A-go-slim — Optimize PDFs in your browser</title>
  <link rel="stylesheet" href="/src/style.css" />
</head>
<body>
  <!-- Full-page drop overlay -->
  <div id="drop-overlay" class="drop-overlay" hidden>
    <div class="drop-overlay__content">
      <svg class="drop-overlay__icon" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
        <polyline points="14 2 14 8 20 8"/>
        <line x1="12" y1="18" x2="12" y2="12"/>
        <polyline points="9 15 12 12 15 15"/>
      </svg>
      <p class="drop-overlay__text">Drop to optimize</p>
    </div>
  </div>

  <div class="desktop">
    <div class="app-window" id="main-window">
      <div class="title-bar">
        <div class="title-bar__ridges" aria-hidden="true"></div>
        <span class="title-bar__title">PDF-A-go-slim</span>
        <div class="title-bar__ridges" aria-hidden="true"></div>
        <div class="title-bar__widgets" aria-hidden="true">
          <div class="title-bar__collapse-box"></div>
        </div>
      </div>

      <main id="app">
        <!-- Drop zone (always visible) -->
        <section id="drop-zone">
          <div class="drop-area" tabindex="0" role="button" aria-label="Drop PDFs here or click to select files">
            <div class="drop-area__content">
              <svg class="drop-area__icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <line x1="12" y1="18" x2="12" y2="12"/>
                <polyline points="9 15 12 12 15 15"/>
              </svg>
              <p class="drop-area__text">Drop PDFs here</p>
              <p class="drop-area__subtext">or click to select files</p>
              <p class="drop-area__example">or <button type="button" id="btn-try-example" class="try-example-link">try an example PDF</button></p>
            </div>
            <input type="file" id="file-input" accept=".pdf,application/pdf" multiple hidden />
          </div>
        </section>

        <!-- Processing state (shown below drop zone during optimization) -->
        <section id="processing" class="state state--processing" hidden>
          <h2>Optimizing&hellip;</h2>
          <ul id="file-list" class="file-list"></ul>
          <div class="processing-actions">
            <button id="btn-cancel" class="btn-cancel">Cancel</button>
          </div>
        </section>

        <!-- Start over (shown after optimization completes) -->
        <div id="main-actions" class="main-actions" hidden>
          <button id="btn-start-over" class="btn btn--secondary">Start Over</button>
        </div>
      </main>

      <div class="status-bar">
        <span class="status-bar__field status-bar__left" id="status-left">Ready</span>
        <span class="status-bar__field status-bar__right" id="status-right">
          <a href="https://github.com/khawkins98/PDF-A-go-slim" target="_blank" rel="noopener">GitHub</a>
          &middot;
          <button type="button" class="about-link" id="btn-about">About</button>
          &middot;
          <a href="?debug" class="debug-link">Debug</a>
        </span>
      </div>
    </div>

    <!-- Desktop icons -->
    <div class="desktop-icons" id="desktop-icons">
      <button class="desktop-icon" id="icon-readme" type="button">
        <svg class="desktop-icon__img" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14 2 14 8 20 8"/>
          <line x1="8" y1="13" x2="16" y2="13"/>
          <line x1="8" y1="17" x2="13" y2="17"/>
          <line x1="8" y1="9" x2="11" y2="9"/>
        </svg>
        <span class="desktop-icon__label">Read Me</span>
      </button>
      <a class="desktop-icon" id="icon-github"
         href="https://github.com/khawkins98/PDF-A-go-slim"
         target="_blank" rel="noopener">
        <svg class="desktop-icon__img" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/>
          <line x1="2" y1="12" x2="22" y2="12"/>
          <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
        </svg>
        <span class="desktop-icon__label">GitHub</span>
      </a>
      <button class="desktop-icon" id="icon-appearance" type="button">
        <svg class="desktop-icon__img" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"/>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
        </svg>
        <span class="desktop-icon__label">Appearance</span>
      </button>
    </div>

    <!-- Options panel (kept in HTML so options.js module-level querySelectorAll finds elements on import) -->
    <div id="options-panel" class="options-panel" hidden>
      <div class="tab-control" role="tablist">
        <button class="tab-control__tab tab-control__tab--active" data-preset="lossless" role="tab" aria-selected="true" title="No quality loss — recompress, deduplicate, subset fonts">Lossless</button>
        <button class="tab-control__tab" data-preset="web" role="tab" aria-selected="false" title="Lossy JPEG at 75% quality, 150 DPI cap — best for screens">Web</button>
        <button class="tab-control__tab" data-preset="print" role="tab" aria-selected="false" title="Lossy JPEG at 92% quality, 300 DPI cap — best for print">Print</button>
      </div>
      <p class="tab-control__hint" id="preset-hint">No quality loss — recompress, deduplicate, subset fonts</p>

      <details class="advanced" open>
        <summary class="advanced__toggle"><svg class="advanced__icon" width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg> Advanced Settings</summary>
        <div class="advanced__body">
          <div class="control-row">
            <label class="control-label">Mode</label>
            <div class="mode-toggle">
              <button type="button" class="mode-btn mode-btn--active" data-mode="lossless">Lossless</button>
              <button type="button" class="mode-btn" data-mode="lossy">Lossy</button>
            </div>
          </div>

          <div class="control-row control-row--quality" hidden>
            <label class="control-label" for="quality-slider">Image quality</label>
            <div class="quality-control">
              <input type="range" id="quality-slider" class="quality-slider" min="1" max="100" value="85" />
              <span id="quality-value" class="quality-value">85</span>
            </div>
          </div>

          <div class="control-row control-row--dpi" hidden>
            <label class="control-label" for="max-dpi">Max image DPI</label>
            <div class="quality-control">
              <input type="number" id="max-dpi" class="dpi-input" min="72" max="600" step="1" value="150" />
            </div>
          </div>

          <div class="control-row">
            <label class="control-label">
              <input type="checkbox" id="unembed-fonts" checked />
              Unembed standard fonts
            </label>
          </div>

          <div class="control-row">
            <label class="control-label">
              <input type="checkbox" id="subset-fonts" checked />
              Subset embedded fonts
            </label>
          </div>
        </div>
      </details>

      <div id="settings-actions" class="settings-actions" hidden>
        <button id="btn-reoptimize" class="btn btn--default">Re-optimize</button>
      </div>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
