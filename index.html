<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PDF-A-go-slim — Optimize PDFs in your browser</title>
  <link rel="stylesheet" href="/src/style.css" />
</head>
<body>
  <header>
    <h1>PDF-A-go-slim</h1>
    <p class="tagline">Optimize PDFs in your browser. Files never leave your device.</p>
  </header>

  <!-- Full-page drop overlay -->
  <div id="drop-overlay" class="drop-overlay" hidden>
    <div class="drop-overlay__content">
      <svg class="drop-overlay__icon" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
        <polyline points="14 2 14 8 20 8"/>
        <line x1="12" y1="18" x2="12" y2="12"/>
        <polyline points="9 15 12 12 15 15"/>
      </svg>
      <p class="drop-overlay__text">Drop to optimize</p>
    </div>
  </div>

  <main id="app">
    <!-- Idle state: drop zone -->
    <section id="drop-zone" class="state state--idle">
      <div class="drop-area" tabindex="0" role="button" aria-label="Drop PDFs here or click to select files">
        <div class="drop-area__content">
          <svg class="drop-area__icon" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
            <line x1="12" y1="18" x2="12" y2="12"/>
            <polyline points="9 15 12 12 15 15"/>
          </svg>
          <p class="drop-area__text">Drop PDFs here</p>
          <p class="drop-area__subtext">or click to select files</p>
          <p class="drop-area__example">or <button type="button" id="btn-try-example" class="try-example-link">try an example PDF</button></p>
        </div>
        <input type="file" id="file-input" accept=".pdf,application/pdf" multiple hidden />
      </div>

    </section>

    <!-- Optimization options (shared between idle and results states) -->
    <div id="options-panel" class="options-panel">
      <div class="presets">
        <span class="presets__label">Preset:</span>
        <button class="preset-btn preset-btn--active" data-preset="lossless">Lossless<span class="preset-btn__desc">No quality loss</span></button>
        <button class="preset-btn" data-preset="web">Web<span class="preset-btn__desc">Smaller files for screens</span></button>
        <button class="preset-btn" data-preset="print">Print<span class="preset-btn__desc">High quality for printing</span></button>
      </div>

      <details class="advanced">
        <summary class="advanced__toggle">Advanced Settings</summary>
        <div class="advanced__body">
          <div class="control-row">
            <label class="control-label">Mode</label>
            <div class="mode-toggle">
              <button type="button" class="mode-btn mode-btn--active" data-mode="lossless">Lossless</button>
              <button type="button" class="mode-btn" data-mode="lossy">Lossy</button>
            </div>
          </div>

          <div class="control-row control-row--quality" hidden>
            <label class="control-label" for="quality-slider">Image quality</label>
            <div class="quality-control">
              <input type="range" id="quality-slider" class="quality-slider" min="1" max="100" value="85" />
              <span id="quality-value" class="quality-value">85</span>
            </div>
          </div>

          <div class="control-row control-row--dpi" hidden>
            <label class="control-label" for="max-dpi">Max image DPI</label>
            <div class="quality-control">
              <input type="number" id="max-dpi" class="dpi-input" min="72" max="600" step="1" value="150" />
            </div>
          </div>

          <div class="control-row">
            <label class="control-label">
              <input type="checkbox" id="unembed-fonts" checked />
              Unembed standard fonts
            </label>
          </div>

          <div class="control-row">
            <label class="control-label">
              <input type="checkbox" id="subset-fonts" checked />
              Subset embedded fonts
            </label>
          </div>
        </div>
      </details>
    </div>

    <!-- Processing state -->
    <section id="processing" class="state state--processing" hidden>
      <h2>Optimizing&hellip;</h2>
      <ul id="file-list" class="file-list"></ul>
      <div class="processing-actions">
        <button id="btn-cancel" class="btn-cancel">Cancel</button>
      </div>
    </section>

    <!-- Results state -->
    <section id="results" class="state state--results" hidden>
      <h2>Results</h2>
      <table id="results-table" class="results-table">
        <thead>
          <tr>
            <th>File</th>
            <th>Original</th>
            <th>Optimized</th>
            <th>Saved</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="results-body"></tbody>
      </table>
      <div class="results-actions">
        <button id="btn-download-all" class="btn btn--primary" hidden>Download All</button>
        <button id="btn-reoptimize" class="btn btn--secondary">Re-optimize</button>
        <button id="btn-start-over" class="btn btn--secondary">Start Over</button>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    Built with <a href="https://github.com/Hopding/pdf-lib" target="_blank" rel="noopener">pdf-lib</a> · <a href="https://github.com/101arrowz/fflate" target="_blank" rel="noopener">fflate</a> · <a href="https://github.com/eugeneware/jpeg-js" target="_blank" rel="noopener">jpeg-js</a> | Sibling project: <a href="https://github.com/khawkins98/PDF-A-go-go" target="_blank" rel="noopener">PDF-A-go-go</a> | <a href="https://github.com/khawkins98/PDF-A-go-slim" target="_blank" rel="noopener">GitHub</a> | <a href="?debug" class="debug-link">Debug mode</a>
  </footer>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
